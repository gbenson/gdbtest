VM 1. Installed Fedora-Workstation-Live-x86_64-31-1.9.iso in VM, no
      special choices.  It didn't reboot (
[  OK  ] Reached target Reboot.
[72550.060803] printk: shutdown: 12 output lines suppressed due to ratelimiting
      ) so I had to Force off"
      => Screenshot_fedora31_2020-02-07_11:39:45.png
      => /var/lib/libvirt/images/fedora31.qcow2.202002071153
      [cp -a --reflink=auto fedora31.qcow2{,.$(date --utc +%Y%m%d%H%M)}]
      NB this is on blade (RHEL7.7)

Cr 2. buildah bud
      buildah tag 6ead8216858b docker.io/gbenson/gdbtest-back2back:6ead8216858b
      [git mv Dockerfile{,.1-6ead8216858b}] ...etc
      podman push docker.io/gbenson/gdbtest-back2back:6ead8216858b
      podman run -ti 6ead8216858b
        rpm -qa | sort > rpm-qa.container-6ead8216858b
	scp rpm-qa.container-6ead8216858b gary@smash.nx:work/gdbtest/back2back
      [git add rpm-qa.container-6ead8216858b] ...etc
      cleanup: [podman rm -a]

VM 3. a) On VM, booted up,
         did firstboot setup,
         mkdir -m700 .ssh
         Settings -> Sharing -> On
         Settings -> Sharing -> Remote Login -> On
      b) On host, added entry to ~/.ssh/config,
         rsync -a .ssh/authorized_keys fedora31:.ssh

VM 4. Set the root password as per https://gbenson.net/?p=685
      [grep root /etc/shadow -> root:!::0:99999:7:::], rebooted,
      su - [echo 'gbenson ALL=(ALL) NOPASSWD: ALL' >> /etc/sudoers]
      sudo dnf -y update
      [warnings, too many to put them all here]
      rpm -qa | sort > rpm-qa.vm-$(date --utc +%Y%m%d%H%M)
      scp rpm-qa.vm-202002071318 gary@192.168.1.3:work/gdbtest/back2back
      [git add rpm-qa.vm-202002071318] ...etc
      sudo poweroff
      [cp -a --reflink=auto fedora31.qcow2{,.$(date --utc +%Y%m%d%H%M)}]
      => /var/lib/libvirt/images/fedora31.qcow2.202002071545

VM 5. sudo useradd --system --no-log-init --create-home --home-dir=/gdbtest gdbtest
      sudo su - gdbtest
      pwd  # == /gdbtest
      dnf -y download --source gdb  # == gdb-8.3.50.20190824-28.fc31.src.rpm
      logout
      sudo dnf -y install rpm-build
      => rpm-qa.vm-202002111043
      sudo dnf -y builddep /gdbtest/gdb-8.3.50.20190824-28.fc31.src.rpm
      => rpm-qa.vm-202002111043
      sudo su - gdbtest
      pwd  # == /gdbtest
      $ rpmbuild --rebuild gdb-8.3.50.20190824-28.fc31.src.rpm
      error: Failed build dependencies:
              libipt-devel is needed by gdb-8.3.50.20190824-28.fc31.x86_64
      => gdb-8.3.50.20190824-28.fc31.spec
                                                 WORKAROUND FOR FAILURE
VM 6. sudo su - gdbtest                      <== TO INSTALL libipt-devel
      pwd  # == /gdbtest
      rpm -i gdb-8.3.50.20190824-28.fc31.src.rpm
      rpmbuild -bs rpmbuild/SPECS/gdb.spec
      sudo dnf builddep -y /gdbtest/rpmbuild/SRPMS/gdb-8.3.50.20190824-28.fc31.src.rpm
      # Installing: libipt-devel, Reinstalling: perl-podlators
      => rpm-qa.vm-202002111558  # just +libipt-devel-2.0-3.fc31.x86_64
      $ rpmbuild --rebuild gdb-8.3.50.20190824-28.fc31.src.rpm
      /var/tmp/rpm-tmp.F3BTHy: line 101: make: command not found
      error: Bad exit status from /var/tmp/rpm-tmp.F3BTHy (%build)

VM 7. sudo dnf install -y make
      rpmbuild --rebuild gdb-8.3.50.20190824-28.fc31.src.rpm  # it built.

VM 8. rm -Rf rpmbuild
      rpm -i gdb-8.3.50.20190824-28.fc31.src.rpm
      rpmbuild -bs --with testsuite rpmbuild/SPECS/gdb.spec
      sudo dnf builddep -y /gdbtest/rpmbuild/SRPMS/gdb-8.3.50.20190824-28.fc31.src.rpm
      => rpm-qa.vm-202002111750
      rm -Rf rpmbuild
      rpmbuild --rebuild --with testsuite gdb-8.3.50.20190824-28.fc31.src.rpm 2>&1 \
        | tee build-log-$(date --utc +%Y%m%d%H%M)

BM 1: sudo useradd --system --no-log-init --create-home --home-dir=/gdbtest gdbtest
      sudo su - gdbtest
      pwd  # == /gdbtest
      dnf -y download --source gdb  # == gdb-8.3.50.20190824-28.fc31.src.rpm
      md5sum gdb-*.src.rpm  # == 4687105fb0cbe59ae2457e51a4672c6f
      # wait...

BM 2: # ...as gary
      md5sum gdb-*.src.rpm  # == 4687105fb0cbe59ae2457e51a4672c6f
      mock -r fedora-31-x86_64 --rebuild gdb-8.3.50.20190824-28.fc31.src.rpm \
        --with=testsuite \
        >mock-build-$(date --utc +%Y%m%d%H%M).log 2>&1 # in screen
      # N.B. there's almost nothing in that logfile
      sudo tar cPf mock-build-202002181647.tar /var/lib/mock/fedora-31-x86_64
      # N.B. it's 6.1 GiB.
      uudecode /var/lib/mock/fedora-31-x86_64/result/build.log
      # ...writes gdb-x86_64-redhat-linux-gnu.tar.bz2
      # Note that, from /var/lib/mock/.../build.log, the checks were invoked as:
      ./orphanripper make -j4 -k \
          check//unix/-m64 \
          check//native-gdbserver/-m64 \
          check//native-extended-gdbserver/-m64 \
          check//unix/-m32 \
          check//native-gdbserver/-m32 \
          check//native-extended-gdbserver/-m32
